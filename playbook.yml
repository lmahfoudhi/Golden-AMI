---
- name: Install node and npm
  become: yes
  tasks:
    - name: Update apt repo and cache
      ansible.builtin.apt: update_cache=yes force_apt_get=yes cache_valid_time=3600
    - name: Install nodejs and npm
      ansible.builtin.apt: 
        pkg:
          - nodejs
          - npm
- name: Create new linux user for node app
  become: yes 
  vars_files:
    - node-vars  
  tasks:
    - name: Create linux user for nodejs
      ansible.builtin.user:
        name: "{{linux_name}}"
        comment: Node User
        group: admin